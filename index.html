<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>補助金サポート Canvas</title>

<style>
/* ------------------------------
   全体デザイン
------------------------------ */
body {
    font-family: "Helvetica", "Arial", sans-serif;
    max-width: 900px;
    margin: auto;
    padding: 30px;
    background: linear-gradient(135deg, #eef2f3, #dfe9f3);
    color: #333;
}

/* タイトル */
h1 {
    text-align: center;
    margin-bottom: 20px;
    font-size: 30px;
    font-weight: bold;
    color: #2c3e50;
}

/* サブ説明 */
p {
    text-align: center;
    margin-bottom: 40px;
    color: #555;
    font-size: 16px;
}

/* 入力フォームのカード */
form {
    background: #ffffff;
    padding: 30px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    margin-bottom: 30px;
    animation: fadeIn 0.6s ease;
}

/* ラベル */
label {
    font-weight: bold;
    display: block;
    margin-bottom: 8px;
    margin-top: 20px;
    color: #34495e;
}

/* テキストエリア */
textarea {
    width: 100%;
    height: 120px;
    padding: 14px;
    border: 1px solid #ccc;
    border-radius: 10px;
    resize: vertical;
    font-size: 15px;
    background: #fafafa;
    transition: 0.2s;
}

textarea:focus {
    border-color: #4a90e2;
    background: #fff;
    outline: none;
    box-shadow: 0 0 6px rgba(74,144,226,0.4);
}

/* ボタン */
button {
    padding: 14px 24px;
    font-size: 17px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    margin-top: 20px;
    transition: 0.2s;
}

/* 作成ボタン */
button.generate {
    background: #4a90e2;
    color: white;
    margin-right: 10px;
}

button.generate:hover {
    background: #357ab8;
}

/* 停止ボタン */
button.stop {
    background: #ccc;
    color: #333;
}

button.stop:hover {
    background: #b5b5b5;
}

/* 結果表示エリア */
#result {
    background: #ffffff;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.08);
    white-space: pre-wrap;
    font-size: 16px;
    line-height: 1.7;
    animation: fadeIn 0.6s ease;
}

/* メッセージ表示 */
#message {
    margin-top: 20px;
    padding: 15px;
    background: #e8f4ff;
    border-left: 5px solid #4a90e2;
    border-radius: 8px;
    font-size: 16px;
    display: none;
}

/* フェードインアニメーション */
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* スマホ対応 */
@media (max-width: 600px) {
    body { padding: 15px; }
    h1 { font-size: 24px; }
    textarea { height: 100px; }
    button { width: 100%; margin-bottom: 10px; }
}
</style>
</head>

<body>

<h1>補助金サポート Canvas</h1>
<p>必要事項を入力すると、AI が補助金申請に必要な文章を生成します。</p>

<form id="form">

    <label>① 解決したい課題：</label>
    <textarea id="problem"></textarea>

    <label>②-1 事業を始めてからのいきさつ：</label>
    <textarea id="history"></textarea>

    <label>②-2 所在地（立地条件や商圏など）：</label>
    <textarea id="location"></textarea>

    <label>②-3 取り扱い商品・サービス：</label>
    <textarea id="products"></textarea>

    <label>②-4 強みと経営課題：</label>
    <textarea id="strengths"></textarea>

    <label>③ 補助金申請をしたいもの（具体的に）：</label>
    <textarea id="apply"></textarea>

    <button type="button" class="generate" onclick="generatePrompt()">作成</button>
    <button type="button" class="stop" onclick="stop()">停止</button>
</form>

<div id="message"></div>
<div id="result"></div>

<script>
function generatePrompt() {

    // Copilot をバックグラウンドで開く（画面遷移しない）
    window.open("https://copilot.microsoft.com", "_blank", "noopener");

    const problem = document.getElementById("problem").value;
    const history = document.getElementById("history").value;
    const location = document.getElementById("location").value;
    const products = document.getElementById("products").value;
    const strengths = document.getElementById("strengths").value;
    const apply = document.getElementById("apply").value;

    const prompt = `
あなたは補助金申請の専門家です。
以下の情報をもとに、補助金申請に必要な事業計画の文章を体系的に生成してください。

【事業者が入力した内容】

① 解決したい課題：
${problem}

② あなたの事業について：
・事業を始めてからのいきさつ：
${history}

・所在地（立地条件や商圏など）：
${location}

・取り扱い商品・サービス：
${products}

・強みと経営課題：
${strengths}

③ 補助金申請をしたいもの（具体的に）：
${apply}

---

# 生成してほしい内容

1. 市場の動向 
入力された所在地・商圏・取り扱い商品をもとに、地域特性や業界動向を推測し、事業に関連する市場動向を文章化してください。
2. 顧客ニーズ 
入力された情報から、ターゲット層・購買傾向・顧客の行動特性を推測し、顧客ニーズを整理してください。
3. 自社の強み  
入力された「強み」や「取り扱い商品」から、競合との差別化ポイントを文章化してください。
4. 自社の弱み 
補助金申請をしたい内容に関連づけて、現状の課題や対応できていない点を整理し、導入により解決できる方向性を提示してください。
5. 経営方針・目標 
入力された内容を踏まえ、今後の経営方針と数値を含む目標を設定してください。
6. 今後の事業展開  
補助金申請をしたいものを導入することで、売上拡大・商圏拡大・顧客満足度向上など、どのように事業を展開していくかを記述してください。
7. 補助事業で行う事業名（30文字以内）  
補助金申請内容を端的に表すタイトルを30文字以内で生成してください。
8. 事業の概要（30文字以内） 
補助金申請をしたい内容を30文字以内で要約してください。
9. 背景・目的  
補助金申請を行う理由を、経営課題・市場動向・今後の展開と関連づけて説明してください。
10. 具体的な取組（30文字以内）  
補助金申請する内容を30文字以内で説明してください。
11. 具体的な取組内容の詳細（数値を含めて）  
申請内容を活用した際、どのように売上に繋がるか、具体的な数値（例：売上○％増、客数○人増など）を含めて説明してください。
12. 取組の効果
業務効率化や生産性向上につながる場合、その効果を定量・定性の両面から説明してください。
13. 効果の試算（数値を含めて、結びの言葉も生成）
売上増加・業務効率化・時間削減などを、具体的な金額・時間・割合などの数値を用いて試算し、最後に結びの言葉を生成してください。
`;

    document.getElementById("result").textContent = prompt;

    navigator.clipboard.writeText(prompt).then(() => {
        const msg = document.getElementById("message");
        msg.style.display = "block";
        msg.textContent = "プロンプトをコピーしました！開いた Copilot のタブに移動し、貼り付けてください。";
    });
}

function stop() {
    document.getElementById("result").textContent = "生成を停止しました。";
}
</script>

</body>
</html>
