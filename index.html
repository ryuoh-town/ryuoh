<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>補助金サポート Canvas</title>
<style>
body {
    font-family: sans-serif;
    max-width: 900px;
    margin: auto;
    padding: 20px;
}
textarea {
    width: 100%;
    height: 120px;
    margin-bottom: 20px;
}
button {
    padding: 10px 20px;
    font-size: 16px;
    margin-right: 10px;
}
#result {
    margin-top: 30px;
    padding: 20px;
    background: #f5f5f5;
    white-space: pre-wrap;
}
</style>
</head>
<body>

<h1>補助金サポート Canvas</h1>
<p>必要事項を入力すると、AI が補助金申請に必要な文章を生成します。</p>

<form id="form">
    <label>① 解決したい課題：</label>
    <textarea id="problem" placeholder="例）新型設備を導入し、対応可能な範囲を広げたい"></textarea>

    <label>② あなたの事業について：</label>
    <textarea id="business" placeholder="例）創業●●年、地域密着型。主要顧客は～～で、●件の取引をいただいているなど"></textarea>

    <label>③ 補助金申請をしたいもの（具体的に）：</label>
    <textarea id="apply" placeholder="例）最新型の冷凍設備を導入し、取扱商品の幅を広げたい"></textarea>

    <button type="button" onclick="generatePrompt()">作成</button>
    <button type="button" onclick="stop()">停止</button>
</form>

<div id="result"></div>

<script>
function generatePrompt() {
    const problem = document.getElementById("problem").value;
    const business = document.getElementById("business").value;
    const apply = document.getElementById("apply").value;

    const prompt = `
あなたは補助金申請の専門家です。
以下の3つの情報をもとに、補助金申請に必要な要素を体系的に整理し、文章を生成してください。

【事業者が入力した内容】

① 解決したい課題：
${problem}

② あなたの事業について：
${business}

③ 補助金申請をしたいもの（具体的に）：
${apply}

---

# 生成してほしい内容

■ 解決したい課題の整理  
■ 実施内容（タイトル、導入説明、独自性、効果、解決できる内容）  
■ 顧客の悩み  
■ 顧客の利得  
■ コスト構造・必要なリソース  
■ 収益の流れ・売上収支の見通し  
■ 行動計画
`;

    // ① プロンプトを画面に表示
    document.getElementById("result").textContent = prompt;

    // ② プロンプトをクリップボードにコピー
    navigator.clipboard.writeText(prompt).then(() => {
        alert("プロンプトをコピーしました。Copilot が開きますので、貼り付けてください。");
    });

    // ③ Copilot を新しいタブで開く
    window.open("https://copilot.microsoft.com", "_blank");
}
</script>

</body>
</html>
